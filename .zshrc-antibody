# Known issues:
# Installing binaries (like fzf) from plugins is not supported.
# Remember to link .zshrc in your home folder.

source <(antibody init)

antibody bundle robbyrussell/oh-my-zsh
antibody bundle bhilburn/powerlevel9k
antibody bundle sorin-ionescu/prezto folder:modules/ssh
antibody bundle zsh-users/zsh-autosuggestions
antibody bundle zsh-users/zsh-completions
antibody bundle robbyrussell/oh-my-zsh folder:plugins/command-not-found
antibody bundle robbyrussell/oh-my-zsh folder:plugins/emoji
antibody bundle robbyrussell/oh-my-zsh folder:plugins/golang
antibody bundle robbyrussell/oh-my-zsh folder:plugins/colored-man-pages
antibody bundle RobSis/zsh-completion-generator
antibody bundle zdharma/fast-syntax-highlighting

[ -f ~/.zshrc-local ] && source ~/.zshrc-local
[ -f $DOTFILES/.zaliases ] && source $DOTFILES/.zaliases

. $DOTFILES/zsh_conf/fzf

# history search
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down

zstyle ':prezto:module:autosuggestions' color 'yes'
zstyle ':completion:*:make::' tag-order targets variables

if [[ -d $DOTFILES/functions ]]; then
   for func in $(find $DOTFILES/functions -type f -exec realpath {} +); do
      unhash -f $func 2>/dev/null
      autoload +X $func
   done
fi

if [[ -d $DOTFILES/widgets ]]; then
   for func in $(find $DOTFILES/widgets -type f -exec realpath {} +); do
      source $func
   done
fi

setopt share_history

# Grab it from https://github.com/arsham/figurine
figurine
